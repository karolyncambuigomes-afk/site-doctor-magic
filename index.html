<!DOCTYPE html>
<html lang="pt-BR" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="theme-color" content="#171717" />
    
    <!-- Minimal Cache Control for International Compatibility -->
    <meta http-equiv="Cache-Control" content="no-cache" />
    <meta http-equiv="Pragma" content="no-cache" />
    
    <!-- International and Accessibility Meta Tags -->
    <meta name="robots" content="index, follow" />
    <meta name="googlebot" content="index, follow" />
    <meta name="geo.region" content="GB-ENG" />
    <meta name="geo.placename" content="London" />
    <meta name="geo.position" content="51.5074;-0.1278" />
    <meta name="ICBM" content="51.5074, -0.1278" />
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />
    
    <!-- Optional DNS prefetch - only if not blocking -->
    <script>
      try {
        const test = 'test';
        localStorage.setItem(test, test);
        localStorage.removeItem(test);
        
        // Only add DNS prefetch if localStorage works (not private mode)
        const dns1 = document.createElement('link');
        dns1.rel = 'dns-prefetch';
        dns1.href = 'https://fonts.googleapis.com';
        document.head.appendChild(dns1);
        
        const dns2 = document.createElement('link');
        dns2.rel = 'dns-prefetch';
        dns2.href = 'https://fonts.gstatic.com';
        document.head.appendChild(dns2);
      } catch (e) {
        // Private mode - skip DNS prefetch
      }
    </script>
    
    <title>Five London - Premier Luxury Companion Services</title>
    <meta name="description" content="Five London represents the epitome of luxury companion services in the heart of London. Sophisticated, intelligent, and elegant companions for the most discerning clientele." />
    <meta name="author" content="Five London" />

    <!-- Enhanced font loading for private browsers -->
    <script>
      (function() {
        let privateModeDetected = false;
        
        try {
          // Enhanced private mode detection
          localStorage.setItem('privateModeTest', 'test');
          localStorage.removeItem('privateModeTest');
          
          // Additional check - storage quota
          if ('storage' in navigator && 'estimate' in navigator.storage) {
            navigator.storage.estimate().then(estimate => {
              if (estimate.quota && estimate.quota < 50000000) {
                console.log('Low storage quota - likely private mode');
                privateModeDetected = true;
              }
            });
          }
          
        } catch (e) {
          console.log('Private mode detected via localStorage test');
          privateModeDetected = true;
          document.documentElement.classList.add('private-mode');
          return;
        }
        
        // Only proceed if not in private mode and online
        if (!privateModeDetected && navigator.onLine) {
          // Quick preconnect
          const preconnect1 = document.createElement('link');
          preconnect1.rel = 'preconnect';
          preconnect1.href = 'https://fonts.googleapis.com';
          document.head.appendChild(preconnect1);
          
          const preconnect2 = document.createElement('link');
          preconnect2.rel = 'preconnect';
          preconnect2.href = 'https://fonts.gstatic.com';
          preconnect2.crossOrigin = 'anonymous';
          document.head.appendChild(preconnect2);
          
          // Load fonts with aggressive timeout
          const fontLink = document.createElement('link');
          fontLink.rel = 'stylesheet';
          fontLink.href = 'https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600&family=Playfair+Display:wght@300;400;500&family=Manrope:wght@300;400;500;600;700&display=swap';
          
          const timeout = setTimeout(() => {
            console.log('Font timeout - using system fonts');
            if (fontLink.parentNode) fontLink.remove();
            document.documentElement.classList.add('fonts-timeout');
          }, 1500);
          
          fontLink.onload = () => {
            clearTimeout(timeout);
            console.log('Fonts loaded successfully');
            document.documentElement.classList.add('fonts-loaded');
          };
          
          fontLink.onerror = () => {
            clearTimeout(timeout);
            console.log('Font error - using system fonts');
            document.documentElement.classList.add('fonts-error');
          };
          
          document.head.appendChild(fontLink);
        } else {
          console.log('Using system fonts (private mode or offline)');
          document.documentElement.classList.add('system-fonts');
        }
      })();
    </script>

    <meta property="og:title" content="Five London - Premier Luxury Companion Services" />
    <meta property="og:description" content="Experience the pinnacle of sophistication with our exclusive collection of elite companions in London." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/hero-elegant-woman.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Five London - Premier Luxury Companion Services" />
    <meta name="twitter:description" content="Experience the pinnacle of sophistication with our exclusive collection of elite companions in London." />
    <meta name="twitter:image" content="/hero-elegant-woman.jpg" />
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
